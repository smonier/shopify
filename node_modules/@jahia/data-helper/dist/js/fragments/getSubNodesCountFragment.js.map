{"version":3,"names":["_graphqlTag","_interopRequireDefault","require","_encodeName","_templateObject","fragments","getSubNodesCountFragment","name","encodedName","getEncodedSubNodesCountName","applyFor","variables","_defineProperty2","gql","_taggedTemplateLiteral2","fragment","exports","encodeName"],"sources":["getSubNodesCountFragment.ts"],"sourcesContent":["import gql from 'graphql-tag';\nimport {encodeName} from './encodeName';\nimport {Fragment} from '~/fragments/PredefinedFragments';\n\nconst fragments:{[key:string]: Fragment} = {};\n\nexport const getSubNodesCountFragment = (name: string) => {\n    const encodedName = getEncodedSubNodesCountName(name);\n    if (!fragments[encodedName]) {\n        fragments[encodedName] = {\n            applyFor: 'node',\n            variables: {\n                [encodedName]: '[String!]!'\n            },\n            gql: gql`fragment SubNodesCount_${encodedName} on JCRNode {\n                ${encodedName}: children(typesFilter: {types: $${encodedName}}) {\n                    pageInfo {\n                        totalCount\n                    }\n                }\n            }`\n        };\n    }\n\n    return {\n        fragment: fragments[encodedName],\n        variables: {\n            [encodedName]: [name]\n        }\n    };\n};\n\nexport const getEncodedSubNodesCountName = (name:string) => 'subNodesCount_' + encodeName(name);\n"],"mappings":";;;;;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AAAwC,IAAAE,eAAA;AAGxC,IAAMC,SAAkC,GAAG,CAAC,CAAC;AAEtC,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAIC,IAAY,EAAK;EACtD,IAAMC,WAAW,GAAGC,2BAA2B,CAACF,IAAI,CAAC;EACrD,IAAI,CAACF,SAAS,CAACG,WAAW,CAAC,EAAE;IACzBH,SAAS,CAACG,WAAW,CAAC,GAAG;MACrBE,QAAQ,EAAE,MAAM;MAChBC,SAAS,MAAAC,gBAAA,iBACJJ,WAAW,EAAG,YAAY,CAC9B;MACDK,GAAG,MAAEA,sBAAG,EAAAT,eAAA,KAAAA,eAAA,OAAAU,uBAAA,yPAA0BN,WAAW,EACvCA,WAAW,EAAoCA,WAAW;IAMpE,CAAC;EACL;EAEA,OAAO;IACHO,QAAQ,EAAEV,SAAS,CAACG,WAAW,CAAC;IAChCG,SAAS,MAAAC,gBAAA,iBACJJ,WAAW,EAAG,CAACD,IAAI,CAAC;EAE7B,CAAC;AACL,CAAC;AAACS,OAAA,CAAAV,wBAAA,GAAAA,wBAAA;AAEK,IAAMG,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAIF,IAAW;EAAA,OAAK,gBAAgB,GAAG,IAAAU,sBAAU,EAACV,IAAI,CAAC;AAAA;AAACS,OAAA,CAAAP,2BAAA,GAAAA,2BAAA"}